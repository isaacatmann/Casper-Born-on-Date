<?xml version="1.0" encoding="UTF-8"?>
<extensionAttribute>
<displayName>Born on Date</displayName>
<description>Guess the date manufactured based off the serial number.  Works with both 11 digit and 12 digit serial numbers.  This is accurate down to the manufacture week but does not guarantee or imply any warranty. </description>
<dataType>date</dataType>
<scriptContentsMac>#!/bin/sh&#13;
&#13;
#Created by Zach Gottesman for Mann Consulting&#13;
#March 2015&#13;
#For more information email support@mann.com or visit http://mann.com&#13;
&#13;
if [[ $# &gt; '0' ]]&#13;
  then&#13;
    serial="$1"&#13;
else&#13;
  serial=`system_profiler SPHardwareDataType | grep 'Serial Number (system)' | awk '{print $NF}'`&#13;
fi&#13;
&#13;
&#13;
if [ "${#serial}" == 11 ]&#13;
  then&#13;
    #old serial number style&#13;
    year=${serial:2:1}&#13;
    intYear=$((year+2000))&#13;
    intWeek=${serial:3:2}&#13;
elif [ "${#serial}" == 12 ]&#13;
  then&#13;
    #new serial number style&#13;
    yearValues=( C D F G H J K L M N P Q R S T V W X Y Z )&#13;
    weekValues=( 1 2 3 4 5 6 7 8 9 C D F G H J K L M N P Q R T V W X Y )&#13;
    year=${serial:3:1}&#13;
    week=${serial:4:1}&#13;
    intYear=0&#13;
    intWeek=0&#13;
    for i in "${!yearValues[@]}"&#13;
      do&#13;
        if [ "${yearValues[i]}" == "$year" ]&#13;
          then&#13;
            intYear=$(((i / 2) + 2010))&#13;
        fi&#13;
    done&#13;
	for i in "${!weekValues[@]}"&#13;
      do&#13;
        if [ "${weekValues[i]}" == "$week" ]&#13;
          then&#13;
            intWeek=$i&#13;
        fi&#13;
    done&#13;
    &#13;
    if [ "$((intYear % 2))" == 0 ]&#13;
      then&#13;
        intWeek=$((intWeek+27))&#13;
    fi&#13;
else&#13;
  echo "Invalid serial number passed."&#13;
  exit&#13;
fi&#13;
&#13;
#use $intYear and $intWeek to make a date string (and display)&#13;
########################################################################################################&#13;
## move to                     #                       #                   # move to #                 #&#13;
##Thu Jan  1 16:00:00 PST 1970 # move to selected year # move to week      # monday  # format properly #&#13;
&#13;
result=`date -v-$(($(date +%s)))S -v+1d -v+$((intYear - 1970))y -v+$((intWeek - 1))w -v-mon "+%Y-%m-%d 00:00:00"`&#13;
&#13;
if [ "$result" != "" ]; then&#13;
        echo "&lt;result&gt;$result&lt;/result&gt;"&#13;
else&#13;
    	echo "&lt;result&gt;none&lt;/result&gt;"&#13;
fi</scriptContentsMac>
<scriptContentsWindows/>
</extensionAttribute>
